<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default"/>
<f:section name="Main">
    <f:spaceless>
        <f:if condition="{menu}">
            <f:if condition="{data.layout} === 1">
                <f:then>
                    <f:render section="layout1" arguments="{_all}"/>
                </f:then>
                <f:else>
                    <f:render section="layout0" arguments="{_all}"/>
                </f:else>
            </f:if>
        </f:if>
    </f:spaceless>
</f:section>

<f:section name="layout0">
    <ul>
        <f:for each="{menu}" as="page">
            <f:if condition="{page.content}">
                <f:for each="{page.content}" as="element" iteration="iterator">
                    <f:if condition="{element.data.header}">
                        <li>
                            <a href="{page.link}#c{element.data.uid}"
                               {f:if(condition: page.current, then: ' aria-current="page"')}
                               {f:if(condition: page.target, then: ' target="{page.target}"')}
                               title="{element.data.header}"
                            >
                                <span>{element.data.header}</span>
                            </a>
                        </li>
                    </f:if>
                </f:for>
            </f:if>
        </f:for>
    </ul>
</f:section>

<f:section name="layout1">
    <ul class="nav">
        <f:for each="{menu}" as="page">
            <f:if condition="{page.content}">
                <f:for each="{page.content}" as="element" iteration="iterator">
                    <f:if condition="{element.data.header}">
                        <li class="nav-item me-2 pe-2{f:if(condition: '!{iterator.isLast}', then: ' border-end border-dark')}">
                            <a class="nav-link px-0 pt-0 d-inline"
                               href="{page.link}#c{element.data.uid}"
                               {f:if(condition: page.current, then: ' aria-current="page"')}
                               {f:if(condition: page.target, then: ' target="{page.target}"')}
                               title="{element.data.header}"
                            >
                                <span>{element.data.header}</span>
                            </a>
                        </li>
                    </f:if>
                </f:for>
            </f:if>
        </f:for>
    </ul>
</f:section>


</html>
